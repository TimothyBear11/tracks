impl: 'https://github.com/TimothyBear11/tracks/raw/main'

track: 'blendos-base'

packages:
  # Hyprland Core
  - 'hyprland'
  - 'hyprland-guiutils'
  - 'xdg-desktop-portal-hyprland'
  - 'xdg-desktop-portal'
  - 'polkit-kde-agent'
  - 'qt5-wayland'
  - 'qt6-wayland'
  - 'qt5ct'
  - 'qt6ct'
  
  # Hyprland Tools

  - 'wlsunset'
  - 'cliphist'
  - 'wl-clipboard'
  - 'brightnessctl'
  - 'playerctl'
  - 'ddcutil'
  
  # Audio/Video
  - 'pavucontrol'
  - 'cava'
  
  # Shell/Terminal
  - 'kitty'
  - 'zsh'
  - 'zsh-autosuggestions'
  - 'zsh-syntax-highlighting'
  - 'neovim'
  - 'btop'
  
  # CLI Tools
  - 'eza'
  - 'bat'
  - 'fd'
  - 'fzf'
  - 'zoxide'
  - 'trash-cli'
  - 'inxi'
  - 'github-cli'
  
  # Network
  - 'network-manager-applet'
  
  # File Manager
  - 'dolphin'
  - 'ark'
  
  # Development
  - 'python'
  
  # ROCm / AI
  - 'rocm-hip-sdk'
  - 'rocm-opencl-sdk'
  - 'rocm-smi-lib'
  - 'rocminfo'
  
  # Gaming
  - 'steam'
  - 'wine-staging'
  - 'winetricks'
  
  # Apps
  - 'telegram-desktop'
  
  # Login Manager
  - 'sddm'
  
aur-packages: 
  # Shell Theme
  - 'zsh-theme-powerlevel10k'
  - 'ttf-meslo-nerd-font-powerlevel10k'
  - 'ttf-cascadia-code-nerd'
  
  # Gaming
  - 'heroic-games-launcher'
  - 'protonup-qt'
  
  # Apps
  - 'floorp-bin'
  - 'spotify'
  - 'vesktop'
  - 'antigravity'
  - 'ani-cli'
  - 'kdeconnect'
  - 'spicetify-cli'
  - 'kate'
  #- 'noctalia-shell'
  #- 'noctalia-qs'
  
  # Theming
  - 'python-pywalfox'
  
  # AI
  - 'ollama-rocm'
  
  # OpenClaw - IMPORTANT!
  - 'openclaw'
  
services:
  - 'sddm'
  - 'ollama'

commands:
  # SDDM Setup (This usually works as it's system-level)
  - 'useradd -m sddm -s /bin/false || true'
  - 'usermod -aG video sddm'
  - |
    mkdir -p /usr/lib/sddm/sddm.conf.d/
    cat << EOF > /usr/lib/sddm/sddm.conf.d/no-gnome-initial-setup.conf
    [Users]
    HideUsers=gnome-initial-setup
    EOF
  
  # User Groups - Added 'tbear' explicitly if that's your username
  - 'usermod -aG render,video tbear'
  - 'usermod -aG render,video blend'
  
  # Deploy dotfiles directly to the LIVE home directory
  # We use /home/tbear/ instead of /etc/skel/
  - 'mkdir -p /home/tbear/.config/hypr /home/tbear/.config/kitty || true'
  - 'curl -fsSL https://raw.githubusercontent.com/TimothyBear11/Dotfiles/master/hypr/hyprland.conf -o /home/tbear/.config/hypr/hyprland.conf'
  - 'curl -fsSL https://raw.githubusercontent.com/TimothyBear11/Dotfiles/master/kitty/kitty.conf -o /home/tbear/.config/kitty/kitty.conf'
  - 'curl -fsSL https://raw.githubusercontent.com/TimothyBear11/Dotfiles/master/.zshrc -o /home/tbear/.zshrc'
  - 'curl -fsSL https://raw.githubusercontent.com/TimothyBear11/Dotfiles/master/.p10k.zsh -o /home/tbear/.p10k.zsh'
  
  # Fix Ownership (Crucial! Root runs these commands, so it will own your home files otherwise)
  - 'chown -R tbear:tbear /home/tbear/'
  
  # Set default shell
  - 'chsh -s /bin/zsh tbear'
  
  # The "Path Clearer" for your current conflict
  - 'pacman -Rdd quickshell --noconfirm || true'
